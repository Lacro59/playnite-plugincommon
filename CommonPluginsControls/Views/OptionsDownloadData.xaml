<UserControl x:Class="CommonPluginsControls.Controls.OptionsDownloadData"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CommonPluginsControls.Controls" 
             xmlns:playnitecontrols="clr-namespace:CommonPluginsControls.PlayniteControls"
             mc:Ignorable="d"
             Background="{DynamicResource WindowBackgourndBrush}">

    <UserControl.Resources>

    </UserControl.Resources>

    <Grid MaxWidth="900" MinWidth="650">
        <Border HorizontalAlignment="Center" 
                VerticalAlignment="Center"
                BorderThickness="0,1,0,0"
                BorderBrush="{DynamicResource NormalBorderBrush}">

            <DockPanel LastChildFill="True" Margin="20">
                <!-- Header -->
                <StackPanel DockPanel.Dock="Top" Margin="0,0,0,20">
                    <TextBlock Text="{DynamicResource LOCFilters}" 
                               Style="{DynamicResource BaseTextBlockStyle}"
                               FontSize="20" 
                               FontWeight="SemiBold" />
                    <Border Height="2" 
                            Background="{DynamicResource GlyphBrush}" 
                            HorizontalAlignment="Stretch" 
                            Margin="0,8,0,0" />
                </StackPanel>

                <!-- Footer buttons -->
                <Border BorderThickness="0,1,0,0" 
                        BorderBrush="{DynamicResource NormalBorderBrush}"
                        Padding="0,10,0,0"
                        Margin="0,10,0,0"
                        DockPanel.Dock="Bottom">
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Right">
                        <Button Name="PART_BtClose" 
                                Content="{DynamicResource LOCCloseLabel}" 
                                Style="{StaticResource SecondaryButton}" 
                                Click="PART_BtClose_Click"
                                TabIndex="1" />
                        <Button Name="PART_BtDownload" 
                                Content="{DynamicResource LOCDownloadLabel}" 
                                Style="{StaticResource PrimaryButton}" 
                                Click="PART_BtDownload_Click"
                                TabIndex="0" />
                    </StackPanel>
                </Border>

                <!-- Main content -->
                <ScrollViewer VerticalScrollBarVisibility="Auto" 
                              HorizontalScrollBarVisibility="Disabled">
                    <StackPanel>
                        <!-- Game Source Section -->
                        <Border Style="{StaticResource SectionBorder}">
                            <StackPanel>
                                <TextBlock Text="{DynamicResource LOCCommonGameSource}" 
                                           Style="{StaticResource SectionHeaderText}" />
                                <UniformGrid Columns="3" Rows="1">
                                    <RadioButton Name="PART_AllGames" 
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 IsChecked="True"
                                                 Content="{DynamicResource LOCQuickFilterAllGames}" />
                                    <RadioButton Name="PART_Filtred" 
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Content="{DynamicResource LOCMetaGameSourceFiltered}" />
                                    <RadioButton Name="PART_Selected" 
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Content="{DynamicResource LOCMetaGameSourceSelected}" />
                                </UniformGrid>
                            </StackPanel>
                        </Border>

                        <!-- Installation Status Section -->
                        <Border Style="{StaticResource SectionBorder}">
                            <StackPanel>
                                <TextBlock Text="{DynamicResource LOCCommonInstallationStatus}" 
                                           Style="{StaticResource SectionHeaderText}" />
                                <UniformGrid Columns="3" Rows="1">
                                    <RadioButton Name="PART_GamesInstalled" 
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Checked="RadioButton_Checked"
                                                 Content="{DynamicResource LOCGameIsGameInstalledTitle}" />
                                    <RadioButton Name="PART_GamesNotInstalled" 
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Checked="RadioButton_Checked"
                                                 Content="{DynamicResource LOCGameIsUnInstalledTitle}" />
                                    <RadioButton Name="PART_GamesFavorite" 
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Checked="RadioButton_Checked"
                                                 Content="{DynamicResource LOCQuickFilterFavorites}" />
                                </UniformGrid>
                            </StackPanel>
                        </Border>

                        <!-- Time-based Filters Section -->
                        <Border Style="{StaticResource SectionBorder}">
                            <StackPanel>
                                <TextBlock Text="{DynamicResource LOCCommonTimeFilters}" 
                                           Style="{StaticResource SectionHeaderText}" />
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <RadioButton Name="PART_OldData" 
                                                 Grid.Column="0"
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Checked="RadioButton_Checked"
                                                 Content="{DynamicResource LOCCommonOldData}" />
                                    <RadioButton Name="PART_GamesRecentlyPlayed" 
                                                 Grid.Column="1"
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Checked="RadioButton_Checked"
                                                 Content="{DynamicResource LOCQuickFilterRecentlyPlayed}" />
                                    <RadioButton Name="PART_GamesRecentlyAdded" 
                                                 Grid.Column="2"
                                                 Style="{StaticResource ModernRadio}"
                                                 GroupName="RadioFilters" 
                                                 Checked="RadioButton_Checked"
                                                 Content="{DynamicResource LOCCommonRecentlyAdded}" />

                                    <Border Grid.Column="3" 
                                            Background="{DynamicResource ControlBackgroundBrush}"
                                            BorderBrush="{DynamicResource NormalBorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="3"
                                            Padding="12,6"
                                            Margin="16,0,0,0">
                                        <StackPanel Name="Part_MonthSelect" 
                                                    Orientation="Horizontal">
                                            <TextBlock Text="{DynamicResource LOCCommonSince}" 
                                                       Style="{DynamicResource BaseTextBlockStyle}"
                                                       VerticalAlignment="Center" 
                                                       Margin="0,0,8,0" />
                                            <playnitecontrols:NumericBox x:Name="PART_Months" 
                                                                         MinWidth="50" 
                                                                         Height="24" 
                                                                         LongValue="1" 
                                                                         MinLongValue="1" 
                                                                         HorizontalContentAlignment="Center" 
                                                                         VerticalAlignment="Center" />
                                            <TextBlock Text="{DynamicResource LOCCommonMonthsLabel}" 
                                                       Style="{DynamicResource BaseTextBlockStyle}"
                                                       VerticalAlignment="Center" 
                                                       Margin="8,0,0,0" />
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Additional Options -->
                        <Border Style="{StaticResource SectionBorder}" Margin="0">
                            <StackPanel>
                                <TextBlock Text="{DynamicResource LOCCommonAdditionalOptions}" 
                                           Style="{StaticResource SectionHeaderText}" />
                                <UniformGrid Columns="2" Rows="1">
                                    <CheckBox Name="PART_TagMissing" 
                                              Style="{StaticResource ModernCheckBox}"
                                              IsChecked="False"
                                              Content="{DynamicResource LOCCommonMissingData}" />
                                    <CheckBox Name="PART_OnlyMissing" 
                                              Style="{StaticResource ModernCheckBox}"
                                              IsChecked="True"
                                              Content="{DynamicResource LOCCommonOnlyMissing}" />
                                </UniformGrid>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </DockPanel>
        </Border>
    </Grid>
</UserControl>
